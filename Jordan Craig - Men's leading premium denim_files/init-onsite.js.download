(function(){"use strict";var t={10509:function(t,n,e){var r=e(69985),o=e(23691),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not a function")}},85027:function(t,n,e){var r=e(48999),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not an object")}},6648:function(t,n,e){var r=e(68844),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},50926:function(t,n,e){var r=e(23043),o=e(69985),i=e(6648),u=e(44201),c=u("toStringTag"),a=Object,f="Arguments"===i(function(){return arguments}()),s=function(t,n){try{return t[n]}catch(e){}};t.exports=r?i:function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=s(n=a(t),c))?e:f?i(n):"Object"===(r=i(n))&&o(n.callee)?"Arguments":r}},75773:function(t,n,e){var r=e(67697),o=e(72560),i=e(75684);t.exports=r?function(t,n,e){return o.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},75684:function(t){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},62148:function(t,n,e){var r=e(98702),o=e(72560);t.exports=function(t,n,e){return e.get&&r(e.get,n,{getter:!0}),e.set&&r(e.set,n,{setter:!0}),o.f(t,n,e)}},11880:function(t,n,e){var r=e(69985),o=e(72560),i=e(98702),u=e(95014);t.exports=function(t,n,e,c){c||(c={});var a=c.enumerable,f=void 0!==c.name?c.name:n;if(r(e)&&i(e,f,c),c.global)a?t[n]=e:u(n,e);else{try{c.unsafe?t[n]&&(a=!0):delete t[n]}catch(s){}a?t[n]=e:o.f(t,n,{value:e,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return t}},95014:function(t,n,e){var r=e(19037),o=Object.defineProperty;t.exports=function(t,n){try{o(r,t,{value:n,configurable:!0,writable:!0})}catch(e){r[t]=n}return n}},67697:function(t,n,e){var r=e(3689);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},22659:function(t){var n="object"==typeof document&&document.all,e="undefined"==typeof n&&void 0!==n;t.exports={all:n,IS_HTMLDDA:e}},36420:function(t,n,e){var r=e(19037),o=e(48999),i=r.document,u=o(i)&&o(i.createElement);t.exports=function(t){return u?i.createElement(t):{}}},30071:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(t,n,e){var r,o,i=e(19037),u=e(30071),c=i.process,a=i.Deno,f=c&&c.versions||a&&a.version,s=f&&f.v8;s&&(r=s.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&u&&(r=u.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=u.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),t.exports=o},3689:function(t){t.exports=function(t){try{return!!t()}catch(n){return!0}}},97215:function(t,n,e){var r=e(3689);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},22615:function(t,n,e){var r=e(97215),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},41236:function(t,n,e){var r=e(67697),o=e(36812),i=Function.prototype,u=r&&Object.getOwnPropertyDescriptor,c=o(i,"name"),a=c&&"something"===function(){}.name,f=c&&(!r||r&&u(i,"name").configurable);t.exports={EXISTS:c,PROPER:a,CONFIGURABLE:f}},68844:function(t,n,e){var r=e(97215),o=Function.prototype,i=o.call,u=r&&o.bind.bind(i,i);t.exports=r?u:function(t){return function(){return i.apply(t,arguments)}}},76058:function(t,n,e){var r=e(19037),o=e(69985),i=function(t){return o(t)?t:void 0};t.exports=function(t,n){return arguments.length<2?i(r[t]):r[t]&&r[t][n]}},54849:function(t,n,e){var r=e(10509),o=e(981);t.exports=function(t,n){var e=t[n];return o(e)?void 0:r(e)}},19037:function(t,n,e){var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e.g&&e.g)||function(){return this}()||this||Function("return this")()},36812:function(t,n,e){var r=e(68844),o=e(90690),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,n){return i(o(t),n)}},57248:function(t){t.exports={}},68506:function(t,n,e){var r=e(67697),o=e(3689),i=e(36420);t.exports=!r&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},6738:function(t,n,e){var r=e(68844),o=e(69985),i=e(84091),u=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return u(t)}),t.exports=i.inspectSource},618:function(t,n,e){var r,o,i,u=e(59834),c=e(19037),a=e(48999),f=e(75773),s=e(36812),l=e(84091),p=e(2713),v=e(57248),y="Object already initialized",d=c.TypeError,b=c.WeakMap,h=function(t){return i(t)?o(t):r(t,{})},g=function(t){return function(n){var e;if(!a(n)||(e=o(n)).type!==t)throw new d("Incompatible receiver, "+t+" required");return e}};if(u||l.state){var m=l.state||(l.state=new b);m.get=m.get,m.has=m.has,m.set=m.set,r=function(t,n){if(m.has(t))throw new d(y);return n.facade=t,m.set(t,n),n},o=function(t){return m.get(t)||{}},i=function(t){return m.has(t)}}else{var w=p("state");v[w]=!0,r=function(t,n){if(s(t,w))throw new d(y);return n.facade=t,f(t,w,n),n},o=function(t){return s(t,w)?t[w]:{}},i=function(t){return s(t,w)}}t.exports={set:r,get:o,has:i,enforce:h,getterFor:g}},69985:function(t,n,e){var r=e(22659),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},981:function(t){t.exports=function(t){return null===t||void 0===t}},48999:function(t,n,e){var r=e(69985),o=e(22659),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===i}:function(t){return"object"==typeof t?null!==t:r(t)}},53931:function(t){t.exports=!1},30734:function(t,n,e){var r=e(76058),o=e(69985),i=e(23622),u=e(39525),c=Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var n=r("Symbol");return o(n)&&i(n.prototype,c(t))}},98702:function(t,n,e){var r=e(68844),o=e(3689),i=e(69985),u=e(36812),c=e(67697),a=e(41236).CONFIGURABLE,f=e(6738),s=e(618),l=s.enforce,p=s.get,v=String,y=Object.defineProperty,d=r("".slice),b=r("".replace),h=r([].join),g=c&&!o((function(){return 8!==y((function(){}),"length",{value:8}).length})),m=String(String).split("String"),w=t.exports=function(t,n,e){"Symbol("===d(v(n),0,7)&&(n="["+b(v(n),/^Symbol\(([^)]*)\)/,"$1")+"]"),e&&e.getter&&(n="get "+n),e&&e.setter&&(n="set "+n),(!u(t,"name")||a&&t.name!==n)&&(c?y(t,"name",{value:n,configurable:!0}):t.name=n),g&&e&&u(e,"arity")&&t.length!==e.arity&&y(t,"length",{value:e.arity});try{e&&u(e,"constructor")&&e.constructor?c&&y(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var r=l(t);return u(r,"source")||(r.source=h(m,"string"==typeof n?n:"")),t};Function.prototype.toString=w((function(){return i(this)&&p(this).source||f(this)}),"toString")},72560:function(t,n,e){var r=e(67697),o=e(68506),i=e(15648),u=e(85027),c=e(18360),a=TypeError,f=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l="enumerable",p="configurable",v="writable";n.f=r?i?function(t,n,e){if(u(t),n=c(n),u(e),"function"===typeof t&&"prototype"===n&&"value"in e&&v in e&&!e[v]){var r=s(t,n);r&&r[v]&&(t[n]=e.value,e={configurable:p in e?e[p]:r[p],enumerable:l in e?e[l]:r[l],writable:!1})}return f(t,n,e)}:f:function(t,n,e){if(u(t),n=c(n),u(e),o)try{return f(t,n,e)}catch(r){}if("get"in e||"set"in e)throw new a("Accessors not supported");return"value"in e&&(t[n]=e.value),t}},23622:function(t,n,e){var r=e(68844);t.exports=r({}.isPrototypeOf)},35899:function(t,n,e){var r=e(22615),o=e(69985),i=e(48999),u=TypeError;t.exports=function(t,n){var e,c;if("string"===n&&o(e=t.toString)&&!i(c=r(e,t)))return c;if(o(e=t.valueOf)&&!i(c=r(e,t)))return c;if("string"!==n&&o(e=t.toString)&&!i(c=r(e,t)))return c;throw new u("Can't convert object to primitive value")}},74684:function(t,n,e){var r=e(981),o=TypeError;t.exports=function(t){if(r(t))throw new o("Can't call method on "+t);return t}},2713:function(t,n,e){var r=e(83430),o=e(14630),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},84091:function(t,n,e){var r=e(19037),o=e(95014),i="__core-js_shared__",u=r[i]||o(i,{});t.exports=u},83430:function(t,n,e){var r=e(53931),o=e(84091);(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.33.2",mode:r?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},50146:function(t,n,e){var r=e(3615),o=e(3689),i=e(19037),u=i.String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!u(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},90690:function(t,n,e){var r=e(74684),o=Object;t.exports=function(t){return o(r(t))}},88732:function(t,n,e){var r=e(22615),o=e(48999),i=e(30734),u=e(54849),c=e(35899),a=e(44201),f=TypeError,s=a("toPrimitive");t.exports=function(t,n){if(!o(t)||i(t))return t;var e,a=u(t,s);if(a){if(void 0===n&&(n="default"),e=r(a,t,n),!o(e)||i(e))return e;throw new f("Can't convert object to primitive value")}return void 0===n&&(n="number"),c(t,n)}},18360:function(t,n,e){var r=e(88732),o=e(30734);t.exports=function(t){var n=r(t,"string");return o(n)?n:n+""}},23043:function(t,n,e){var r=e(44201),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},34327:function(t,n,e){var r=e(50926),o=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},23691:function(t){var n=String;t.exports=function(t){try{return n(t)}catch(e){return"Object"}}},14630:function(t,n,e){var r=e(68844),o=0,i=Math.random(),u=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+u(++o+i,36)}},39525:function(t,n,e){var r=e(50146);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},15648:function(t,n,e){var r=e(67697),o=e(3689);t.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},21500:function(t){var n=TypeError;t.exports=function(t,e){if(t<e)throw new n("Not enough arguments");return t}},59834:function(t,n,e){var r=e(19037),o=e(69985),i=r.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},44201:function(t,n,e){var r=e(19037),o=e(83430),i=e(36812),u=e(14630),c=e(50146),a=e(39525),f=r.Symbol,s=o("wks"),l=a?f["for"]||f:f&&f.withoutSetter||u;t.exports=function(t){return i(s,t)||(s[t]=c&&i(f,t)?f[t]:l("Symbol."+t)),s[t]}},98858:function(t,n,e){var r=e(11880),o=e(68844),i=e(34327),u=e(21500),c=URLSearchParams,a=c.prototype,f=o(a.append),s=o(a["delete"]),l=o(a.forEach),p=o([].push),v=new c("a=1&a=2&b=3");v["delete"]("a",1),v["delete"]("b",void 0),v+""!=="a=2"&&r(a,"delete",(function(t){var n=arguments.length,e=n<2?void 0:arguments[1];if(n&&void 0===e)return s(this,t);var r=[];l(this,(function(t,n){p(r,{key:n,value:t})})),u(n,1);var o,c=i(t),a=i(e),v=0,y=0,d=!1,b=r.length;while(v<b)o=r[v++],d||o.key===c?(d=!0,s(this,o.key)):y++;while(y<b)o=r[y++],o.key===c&&o.value===a||f(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},61318:function(t,n,e){var r=e(11880),o=e(68844),i=e(34327),u=e(21500),c=URLSearchParams,a=c.prototype,f=o(a.getAll),s=o(a.has),l=new c("a=1");!l.has("a",2)&&l.has("a",void 0)||r(a,"has",(function(t){var n=arguments.length,e=n<2?void 0:arguments[1];if(n&&void 0===e)return s(this,t);var r=f(this,t);u(n,1);var o=i(e),c=0;while(c<r.length)if(r[c++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},33228:function(t,n,e){var r=e(67697),o=e(68844),i=e(62148),u=URLSearchParams.prototype,c=o(u.forEach);r&&!("size"in u)&&i(u,"size",{get:function(){var t=0;return c(this,(function(){t++})),t},configurable:!0,enumerable:!0})}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return t[r].call(i.exports,i,i.exports,e),i.exports}!function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}();!function(){class t{static log(...t){0}static info(...t){0}static error(...t){0}}e(98858),e(61318),e(33228);const n=()=>Object.fromEntries(new URLSearchParams(window.location.search)),r=t=>{const n=new URL(window.location.href),e=n.searchParams;e.delete(t),history.replaceState(null,"",n.href)},o="https://cdn-static.okendo.io/loyalty",i="/css/okendo-loyalty.onsite.css",u="/js/okendo-loyalty.onsite.js";function c(t){return t.replace(/.js$/,"-0.1.0.690.js")}function a(t){const n=document.getElementById("oke-loyalty-settings"),e=n?JSON.parse(n.innerText):{},o=e?.subscriberId;if(o){const n={[o]:{token:t,dateUpdated:new Date,version:"0.1.0.690"}};localStorage.setItem("okeLoyalty-token",JSON.stringify(n)),r("okendo_loyalty_token"),f()}}function f(){window.okeLoyaltyApi?window.okeLoyaltyApi.open():new MutationObserver(((t,n)=>{window.okeLoyaltyApi&&(window.okeLoyaltyApi.open(),n.disconnect())})).observe(document,{childList:!0,subtree:!0})}(async function(){t.info("Running entry.init widget...");const e=document.createElement("div");e.setAttribute("data-oke-loyalty-widget",""),document.body.appendChild(e);const r=`${o}${i}`;t.info(`Adding onsite css ${r}`);const f=document.createElement("link");f.setAttribute("href",r),f.setAttribute("type","text/css"),f.setAttribute("rel","stylesheet"),document.head.appendChild(f);const s=`${o}${c(u)}`;t.info(`Adding onsite script ${s}`);const l=document.createElement("script");l.setAttribute("src",s),document.body.appendChild(l);const{okendo_loyalty_token:p}=n();p&&a(p)})()}()})();
//# sourceMappingURL=init-onsite.js.map